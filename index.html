<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Notion TradingView Widget</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    background: #191919; /* Fondo exacto Notion Dark */
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  #tv_single {
    width: 100vw;
    height: 120px;
  }
</style>
</head>

<body>

<div id="tv_single"></div>

<script src="https://s3.tradingview.com/tv.js"></script>

<script>
function loadQuote() {
  document.getElementById("tv_single").innerHTML = "";

  new TradingView.MiniWidget({
    container_id: "tv_single",
    symbol: "OSE:NK2251!",
    locale: "es",
    colorTheme: "dark",
    width: "100%",
    autosize: true
  });
}

/* Carga inicial */
window.addEventListener("load", loadQuote);

/* ðŸ”¥ Evita pantalla blanca cuando Notion reactiva el iframe */
document.addEventListener("visibilitychange", function() {
  if (!document.hidden) {
    setTimeout(loadQuote, 200);
  }
});
</script>

</body>
</html>
